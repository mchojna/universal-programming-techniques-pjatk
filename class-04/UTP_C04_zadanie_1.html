<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1250"><title>LAMCOMB</title></head>
<body><h2>Zadanie: lambda-wyra¿enia - kompozycja funkcji</h2><br>Zbudowaæ
klasê InputConverter, która pozwala&nbsp;przekszta³ciæ dane wejœciowe
(ustalane w konstruktorze klasy) za pomoc¹ funkcji, podanych jako
argumenty metody convertBy.<br><br>Np. jeœli mamy zdefiniowane operacje (funkcje):<br><ul><li>flines - zwraca listê wierszy z pliku tekstowego</li><li>join - ³¹czy napisy z listy (zwraca napis po³¹czonych ze sob¹ elementów listy napisów)</li><li>collectInts - zwraca listê liczb ca³kowitych zawartych w napisie</li><li>sum - zwraca sumê elementów listy liczb ca³kowitych</li></ul>to sumê liczb ca³kowitych, wystêpuj¹cych w pliku o nazwie <span style="font-style: italic;">fname</span> mo¿emy uzyskaæ poprzez: <br><pre>Integer s =&nbsp;new InputConverter&lt;String&gt;(fname).convertBy(flines, join, collectInts, sum); <br></pre>a listê liczb ca³kowitych z napisu txt tak:<br><pre>List&lt;Integer&gt; n =&nbsp;new InputConverter&lt;String&gt;(txt).convertBy(collectInts);</pre><br><span style="font-weight: bold;">Istot¹
metody convertBy jest to, ¿e pozwala ona w ró¿ny sposób kombinowaæ
ró¿ne&nbsp;operacje na ró¿nych danych i ³atwo uzyskiwaæ wyniki.</span><br><br>Zapewniæ
prawid³owe dzia³anie nastêpuj¹cego fragmentu kodu (dostarczonego w
szablonie projektu, pliku Main.java nie wolno modyfikowaæ):<br><pre>  public static void main(String[] args) {<br>    /*&lt;--<br>     *  definicja operacji w postaci lambda-wyra¿eñ:<br>     *  - flines - zwraca listê wierszy z pliku tekstowego<br>     *  - join - ³¹czy napisy z listy (zwraca napis po³¹czonych ze sob¹ elementów listy napisów)<br>     *  - collectInts - zwraca listê liczb ca³kowitych zawartych w napisie<br>     *  - sum - zwraca sumê elmentów listy liczb ca³kowitych<br>     */<br><br>    String fname = System.getProperty("user.home") + "/LamComFile.txt"; <br>    InputConverter&lt;String&gt; fileConv = new InputConverter&lt;&gt;(fname);<br>    List&lt;String&gt; lines = fileConv.convertBy(flines);<br>    String text = fileConv.convertBy(flines, join);<br>    List&lt;Integer&gt; ints = fileConv.convertBy(flines, join, collectInts);<br>    Integer sumints = fileConv.convertBy(flines, join, collectInts, sum);<br><br>    System.out.println(lines);<br>    System.out.println(text);<br>    System.out.println(ints);<br>    System.out.println(sumints);<br><br>    List&lt;String&gt; arglist = Arrays.asList(args);<br>    InputConverter&lt;List&lt;String&gt;&gt; slistConv = new InputConverter&lt;&gt;(arglist);  <br>    sumints = slistConv.convertBy(join, collectInts, sum);<br>    System.out.println(sumints);<br><br>  }</pre>Dla nastêpuj¹cych danych z pliku:<br><pre>Cars:<br>- Fiat: 15, Ford: 20<br>- Opel: 8, Mitsubishi: 10</pre><br>oraz &nbsp;nastepuj¹cych argumentów wywo³ania metody main:<br><pre>Warszawa 100 Kielce 200 Szczecin 300</pre>program powinien wyprowadziæ na konsolê:<br><pre>[Cars:, - Fiat: 15, Ford: 20, - Opel: 8, Mitsubishi: 10]<br>Cars:- Fiat: 15, Ford: 20- Opel: 8, Mitsubishi: 10<br>[15, 20, 8, 10]<br>53<br>600</pre><span style="font-weight: bold;">Uwaga:
w klasie InputConverter musi wystêpowaæ tylko jedna metoda o nazwie
convertBy (czyli w tym zadaniu nie dopuszczamy przeci¹¿ania metody
convertBy).</span><br style="font-weight: bold;"><pre></pre>
</body></html>